# Clio Manage Automation Bookmarklets

This project contains a collection of bookmarklets designed to automate and streamline tasks within [Clio Manage](https://app.clio.com).

## Usage

Each bookmarklet is a small JavaScript snippet you can add to your browser's bookmarks bar. When clicked, the bookmarklet will execute automation tasks directly within the Clio Manage web app.

**To use a bookmarklet:**
1. Open the corresponding minified file in `bookmarklets/min/` (e.g., `bookmarklets/min/get-clio-folder-path.js`).
2. Copy the entire code from the minified file.
3. Create a new bookmark in your browser.
4. Paste the code into the URL/location field (the code already includes the `javascript:` prefix).

## Generating Minified Bookmarklets

If you make changes to any bookmarklet JavaScript files in `bookmarklets/`, you must regenerate the minified versions before using or sharing them:

1. Make sure you have [Node.js](https://nodejs.org/) installed.
2. Install the minifier dependency (if you haven't already):  
   `npm install terser`
3. Run the minification script:  
   `node minify-bookmarklets.js`
4. The updated minified files will be output to `bookmarklets/min/`.

## Available Bookmarklets

<!-- BEGIN AUTO-GENERATED BOOKMARKLETS -->

**Drag-and-Drop Bookmarklets**

Below are ready-to-use bookmarklet links. Drag any link to your browser's bookmarks/favorites bar.

> **Note:** Due to GitHub's security restrictions, these links may not be draggable or clickable as bookmarklets directly from the GitHub web UI.  
> To use drag-and-drop, open this README locally in a markdown viewer that allows `javascript:` links, or use the provided code to create bookmarks manually.

- [Conflict Check](javascript:!function(e,t%29{document.getElementById("clio-conflict-check-modal"%29?.remove(%29;const n=document.createElement("div"%29;n.id="clio-conflict-check-modal",n.style="\n      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;\n      background: rgba(0,0,0,0.3%29; z-index: 99999; display: flex; align-items: center; justify-content: center;\n    ";const o=document.createElement("div"%29;o.style="\n      background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 2px 16px rgba(0,0,0,0.2%29;\n      min-width: 340px; max-width: 90vw; display: flex; flex-direction: column; gap: 12px;\n    ";const r=document.createElement("h2"%29;r.textContent="Conflict Check: Enter Search Terms",r.style="margin: 0 0 8px 0; font-size: 1.2em;";const c=document.createElement("textarea"%29;c.rows=10,c.style="width: 100%; font-size: 1em; resize: vertical;",c.placeholder="Paste one search term per line...";const i=document.createElement("div"%29;i.style="display: flex; gap: 8px; justify-content: flex-end;";const l=document.createElement("button"%29;l.textContent="Go",l.style="padding: 6px 18px; font-size: 1em; background: #0077cc; color: #fff; border: none; border-radius: 4px; cursor: pointer;";const a=document.createElement("button"%29;a.textContent="Cancel",a.style="padding: 6px 18px; font-size: 1em; background: #eee; color: #333; border: none; border-radius: 4px; cursor: pointer;",l.onclick=(%29=>{const t=c.value.split("\n"%29.map((e=>e.trim(%29%29%29.filter(Boolean%29;0!==t.length?(n.remove(%29,e(t%29%29:c.focus(%29},a.onclick=(%29=>{n.remove(%29,t&&t(%29},i.appendChild(a%29,i.appendChild(l%29,o.appendChild(r%29,o.appendChild(c%29,o.appendChild(i%29,n.appendChild(o%29,document.body.appendChild(n%29,c.focus(%29}((async function(e%29{if(!e.length%29return;function t(e%29{return new Promise((t=>setTimeout(t,e%29%29%29}async function n(e%29{if(o%29throw new Error("Cancelled"%29;const n=document.querySelector('input.k-input[type="text"%5D'%29;if(!n%29throw alert("Could not find the Clio search input box."%29,new Error("No search input"%29;n.focus(%29,n.value=e,n.dispatchEvent(new Event("input",{bubbles:!0}%29%29,n.dispatchEvent(new Event("change",{bubbles:!0}%29%29;const r=new KeyboardEvent("keyup",{bubbles:!0,key:"Enter",code:"Enter",which:13,keyCode:13}%29;n.dispatchEvent(r%29,await t(5e3%29,await function(e=1e4%29{return new Promise(((t,n%29=>{const o=Date.now(%29;!function r(%29{document.querySelector("cc-search-categories, .cc-search-categories"%29?t(%29:Date.now(%29-o>e?n(new Error("Timed out waiting for search results."%29%29:setTimeout(r,200%29}(%29}%29%29}(%29;const c=await async function(e=1e4%29{const t=Date.now(%29;return new Promise(((n,o%29=>{!function r(%29{const c=Array.from(document.querySelectorAll("cc-search-categories ul li a"%29%29;c.length>0&&c.some((e=>e.textContent.trim(%29%29%29?n(c%29:Date.now(%29-t>e?o(new Error("Timed out waiting for category tabs."%29%29:setTimeout(r,150%29}(%29}%29%29}(%29,i={};for(const e of c%29{if(o%29throw new Error("Cancelled"%29;const n=e.textContent.trim(%29;e.click(%29,await t(800%29;let r=[%5D,c=new Set;for(;;%29{if(o%29throw new Error("Cancelled"%29;const e=document.querySelector(".k-pager-info"%29,n=e?e.textContent.trim(%29:"";if(n&&c.has(n%29%29break;n&&c.add(n%29;const i=Array.from(document.querySelectorAll('.k-grid-content table[role="grid"%5D tbody tr'%29%29.map((e=>Array.from(e.querySelectorAll("td"%29%29.map((e=>{const t=e.querySelector("a"%29;return t&&t.getAttribute("href"%29?{text:t.innerText.trim(%29,href:t.getAttribute("href"%29}:e.innerText.trim(%29}%29%29%29%29;r=r.concat(i%29;const l=document.querySelector('a.k-pager-nav[aria-label="Go to the next page"%5D:not(.k-state-disabled%29'%29;if(!l%29break;l.click(%29,await t(800%29}i[n%5D=r}return i}let o=!1,r=null;function c(e%29{const t=document.getElementById("clio-conflict-check-progress-msg"%29;t&&(t.textContent=e%29}const i=[%5D;!function(e%29{document.getElementById("clio-conflict-check-progress"%29?.remove(%29;const t=document.createElement("div"%29;t.id="clio-conflict-check-progress",t.style="\n          position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;\n          background: rgba(0,0,0,0.3%29; z-index: 99999; display: flex; align-items: center; justify-content: center;\n        ";const n=document.createElement("div"%29;n.style="\n          background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 2px 16px rgba(0,0,0,0.2%29;\n          min-width: 320px; max-width: 90vw; display: flex; flex-direction: column; gap: 16px; align-items: center;\n        ";const c=document.createElement("div"%29;c.id="clio-conflict-check-progress-msg",c.textContent=e,c.style="font-size:1.1em; margin-bottom:8px;";const i=document.createElement("div"%29;i.style="width:32px;height:32px;border:4px solid #eee;border-top:4px solid #0077cc;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:8px;",i.innerHTML="<style>@keyframes spin{0%{transform:rotate(0%29}100%{transform:rotate(360deg%29}}</style>";const l=document.createElement("button"%29;l.textContent="Cancel",l.style="padding: 6px 18px; font-size: 1em; background: #eee; color: #333; border: none; border-radius: 4px; cursor: pointer;",l.onclick=(%29=>{o=!0,c.textContent="Cancelling...",l.disabled=!0},n.appendChild(i%29,n.appendChild(c%29,n.appendChild(l%29,t.appendChild(n%29,document.body.appendChild(t%29,r=t}("Starting conflict check..."%29;for(let t=0;t<e.length&&!o;++t%29{const o=e[t%5D;try{c(`Processing term ${t+1} of ${e.length}: "${o}"`%29;const r=await n(o%29;i.push({term:o,categories:r}%29}catch(e%29{i.push({term:o,error:e.message}%29}}if(document.getElementById("clio-conflict-check-progress"%29?.remove(%29,r=null,o%29return void alert("Conflict check cancelled by user."%29;function l(e%29{return e.replace(/[&<>"'%5D/g,(e=>({"&":"&","<":"<",">":">",'"':'"',"'":"&#39;"}[e%5D%29%29%29}function a(e,t,n%29{return e.length?`<table border="1" cellpadding="4" style="border-collapse:collapse; margin:8px 0;">\n          <tbody>\n            ${e.map((e=>`<tr>${e.map(((e,t%29=>{if(0===t&&e&&"object"==typeof e&&e.href%29{let t=e.href;return t.startsWith("#/"%29&&(t=(n||"https://app.clio.com/nc/"%29+t%29,`<td><a href="${t}" target="_blank" rel="noopener">${l(e.text%29}</a></td>`}return`<td>${l("object"==typeof e?e.text:e%29}</td>`}%29%29.join(""%29}</tr>`%29%29.join(""%29}\n          </tbody>\n        </table>`:"<em>No results</em>"}let s="";const d=document.querySelector('input.k-input[type="text"%5D'%29;if(d&&d.placeholder%29{const e=d.placeholder.match(/Search (.+%29$/%29;e&&(s=e[1%5D.trim(%29%29}s||(s="Clio Account"%29;let p=`<html><head><title>Clio Conflict Check Report for ${l(s%29}</title>\n        <style>\n          body { font-family: sans-serif; margin: 24px; }\n          h2 { margin-top: 2em; }\n          table { font-size: 0.95em; }\n          .error { color: #b00; }\n        </style>\n      </head><body>\n      <h1>Clio Conflict Check Report for ${l(s%29}</h1>\n      <p>Generated: ${(new Date%29.toLocaleString(%29}</p>\n      `;for(const e of i%29if(p+=`<h2>Search Term: <span style="color:#0077cc">${l(e.term%29}</span></h2>`,e.error%29p+=`<div class="error">Error: ${l(e.error%29}</div>`;else for(const[t,n%5Dof Object.entries(e.categories%29%29{const e=n.length,o=e.toLocaleString("en-US"%29;p+=`<h3>${l(t%29} (${o} result${1===e?"":"s"}%29</h3>`,p+=a(n,0,"https://app.clio.com/nc/"%29}p+="</body></html>";const m=window.open(%29;m?(m.document.write(p%29,m.document.close(%29%29:alert("Popup blocked! Please allow popups to see the report."%29}%29,(function(%29{}%29%29;)
- [Get Clio Folder Path](javascript:!function(%29{const e=function(e,t%29{return e?"windows"===t?"A:"+e.replace(/\//g,"\\"%29:"/Clio Drive"+e:""}(function(%29{try{let e=sessionStorage.getItem("clioClientName"%29||"";const t=document.querySelector("cc-page-header"%29;let o="";if(t&&t.hasAttribute("header"%29&&(o=t.getAttribute("header"%29.trim(%29%29,!e%29{const t=document.querySelector(".contact-name a"%29;if(t%29{e=t.textContent.trim(%29,sessionStorage.setItem("clioClientName",e%29;const o=sessionStorage.getItem("clioReturnUrl"%29;if(o%29return sessionStorage.removeItem("clioReturnUrl"%29,setTimeout(((%29=>{window.location.href=o}%29,100%29,null}}if(!e%29{sessionStorage.setItem("clioReturnUrl",window.location.href%29;const e=document.getElementById("control-for-dashboard-tab"%29;return e?(e.click(%29,null%29:(alert("Could not find Dashboard tab to extract client name."%29,null%29}if(!e||!o%29return null;let n=`/${e}/${o}/`;const r=document.querySelector("nav.breadcrumbs-list"%29;if(r%29{const e=r.querySelectorAll("a.breadcrumb-link"%29;if(e.length>1%29{const t=[%5D;for(let o=1;o<e.length;o++%29{const n=e[o%5D.textContent.trim(%29;n&&t.push(n%29}t.length>0&&(n+=t.join("/"%29+"/"%29}}return n}catch(e%29{return null}}(%29,"windows"%29;!function(e%29{if(e%29if(navigator.clipboard%29navigator.clipboard.writeText(e%29;else{const t=document.createElement("textarea"%29;t.value=e,document.body.appendChild(t%29,t.select(%29,document.execCommand("copy"%29,document.body.removeChild(t%29}}(e%29,e?alert("Clio Drive path copied to clipboard:\n"+e%29:alert("Could not determine Clio folder path. Please ensure you are viewing a folder in Clio Manage."%29}(%29;)

<!-- END AUTO-GENERATED BOOKMARKLETS -->


- **Get Clio Folder Path**: Copies the local file path (as it would appear in Clio Drive) for the currently viewed document folder in Clio Manage to your clipboard.
- (More bookmarklets coming soon.)

## Adding New Bookmarklets

- Place new bookmarklet scripts in the `bookmarklets/` directory.
- Each script should be self-contained and include comments describing its purpose and usage.

## License

MIT License
